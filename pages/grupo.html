<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhes do Grupo | Grupos de WhatsApp, Telegram e Discord</title>
    <meta name="description" content="Veja todos os detalhes deste grupo e entre para a comunidade.">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Detalhes do Grupo | Grupos de WhatsApp, Telegram e Discord">
    <meta property="og:description" content="Veja todos os detalhes deste grupo e entre para a comunidade.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://SEU_DOMINIO.github.io/grupo-lista/pages/grupo.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/images/favicon-16x16.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../assets/css/main.css">
    
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="logo">
                <img src="../assets/images/logo.png" alt="Logo">
                <span>Grupos Lista</span>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Início</a></li>
                    <li><a href="cadastrar.html">Cadastrar Grupo</a></li>
                    <li><a href="vip.html">VIP</a></li>
                    <li id="admin-link" style="display: none;"><a href="admin.html">Admin</a></li>
                    <li id="login-link"><a href="login.html">Entrar</a></li>
                    <li id="register-link"><a href="login.html#register">Cadastrar</a></li>
                    <li id="logout-link" style="display: none;"><a href="#">Sair</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Group Details Section -->
    <section class="group-details-section">
        <div class="container">
            <div id="group-details">
                <div class="spinner"></div>
            </div>
        </div>
    </section>

    <!-- Related Groups Section -->
    <section class="related-groups-section">
        <div class="container">
            <h2 class="section-title">Grupos Relacionados</h2>
            <div id="related-groups" class="groups-grid">
                <div class="spinner"></div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-column">
                <h3>Sobre Nós</h3>
                <p>Somos uma plataforma dedicada a ajudar pessoas a encontrar e compartilhar os melhores grupos de WhatsApp, Telegram e Discord.</p>
            </div>
            <div class="footer-column">
                <h3>Links Úteis</h3>
                <ul>
                    <li><a href="index.html">Início</a></li>
                    <li><a href="cadastrar.html">Cadastrar Grupo</a></li>
                    <li><a href="vip.html">Planos VIP</a></li>
                    <li><a href="login.html">Entrar</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Categorias Populares</h3>
                <ul>
                    <li><a href="#">Jogos</a></li>
                    <li><a href="#">Tecnologia</a></li>
                    <li><a href="#">Educação</a></li>
                    <li><a href="#">Entretenimento</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Contato</h3>
                <ul>
                    <li><a href="mailto:contato@gruposlista.com">contato@gruposlista.com</a></li>
                    <li><a href="#">Política de Privacidade</a></li>
                    <li><a href="#">Termos de Uso</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2023 Grupos Lista. Todos os direitos reservados.</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="../assets/js/supabase.js"></script>
    <script src="../assets/js/auth.js"></script>
    <script src="../assets/js/main.js"></script>
    
    <script>
        // Carregar grupos relacionados
        document.addEventListener('DOMContentLoaded', async () => {
            const groupId = utils.getUrlParam('id');
            if (groupId) {
                // Obter detalhes do grupo para carregar relacionados
                const group = await db.getGroupById(groupId);
                
                if (group) {
                    // Carregar grupos da mesma categoria ou plataforma
                    const relatedGroups = await db.getGroups({
                        category: group.category,
                        platform: group.platform
                    });
                    
                    // Filtrar para remover o grupo atual
                    const filteredGroups = relatedGroups.filter(g => g.id !== groupId);
                    
                    // Renderizar grupos relacionados
                    const container = document.getElementById('related-groups');
                    if (container) {
                        if (filteredGroups.length === 0) {
                            container.innerHTML = '<p class="text-center">Nenhum grupo relacionado encontrado.</p>';
                        } else {
                            container.innerHTML = filteredGroups
                                .slice(0, 6) // Limitar a 6 grupos
                                .map(group => groupsRenderer.renderGroupCard(group))
                                .join('');
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
